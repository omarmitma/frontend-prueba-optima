<div class="card">
    <p-table [value]="dataMain" (sortFunction)="customSort($event)" [customSort]="true">
      <ng-template pTemplate="header" >
        <tr>
          <th *ngFor="let header of tableHeaders" pSortableColumn="{{header.field}}">
            {{header.header}} <p-sortIcon field="{{header.field}}"></p-sortIcon>
          </th>
          <th *ngIf="viewSelect"></th>
          <th></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-item>
        <tr>
          <td *ngFor="let header of tableHeaders">{{item | nestedProperty: header.field}}</td>
          <td *ngIf="viewSelect">
            <p-button label="Seleccionar" (onClick)="selectItem(item)" severity="info"></p-button>
          </td>
          <td *ngIf="viewVouchers" class="tdContentDetalleVoucher">
            <div class="detalleVoucher" *ngFor="let voucher of item.vouchers">
              <div class="detalle">
                <p-inputNumber [minFractionDigits]="2" [(ngModel)]="voucher.monto" (onInput)="calcMontoParcial()"> </p-inputNumber>
              </div>
              <div class="detalle">
                
                <input type="date" class="inputDatePersonalizado" [(ngModel)]="voucher.fechaSubida">
              </div>
              <div class="detalle detalleArchivo" *ngIf="voucher.archivo.length <= 0">
                <p-fileUpload mode="basic" chooseLabel="Choose" name="demo[]" url="https://www.primefaces.org/cdn/api/upload.php" accept="image/*" [auto]="true" [maxFileSize]="1000000" (onUpload)="onUpload($event,voucher)"></p-fileUpload>
              </div>
              <div class="detalle detalleArchivo detalleArchivo2" *ngIf="voucher.archivo.length > 0">
                <a [href]="voucher.ruta" target="_blank">{{ voucher.archivo }}</a>
                <button (click)="deleteArchivo(voucher)">x</button>
              </div>
              <p-button icon="pi pi-times" severity="danger" (onClick)="deleteVoucher(item,voucher)"></p-button>
            </div>
            <p-button icon="pi pi-plus" (onClick)="addVoucher(item)"></p-button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
  